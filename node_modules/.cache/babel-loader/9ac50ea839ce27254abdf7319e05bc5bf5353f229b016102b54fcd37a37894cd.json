{"ast":null,"code":"import { __extends, __rest, __read, __assign } from 'tslib';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useLayoutEffect } from 'react';\nimport { MotionContext, MotionConfigContext } from 'framer-motion';\nimport mergeRefs from 'react-merge-refs';\nimport { render, events, unmountComponentAtNode } from '@react-three/fiber';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\nimport { MotionCanvasContext } from './MotionCanvasContext.mjs';\nimport { useForceUpdate } from '../utils/use-force-update.mjs';\nimport { clamp } from 'popmotion';\nvar devicePixelRatio = typeof window !== \"undefined\" ? window.devicePixelRatio : 1;\nvar calculateDpr = function (dpr) {\n  return Array.isArray(dpr) ? clamp(dpr[0], dpr[1], devicePixelRatio) : dpr || devicePixelRatio;\n};\n/**\n * This file contains a version of R3F's Canvas component that uses our projection\n * system for layout measurements instead of use-react-measure so we can keep the\n * projection and cameras in sync.\n *\n * https://github.com/pmndrs/react-three-fiber/blob/master/packages/fiber/src/web/Canvas.tsx\n */\nfunction Block(_a) {\n  var set = _a.set;\n  useIsomorphicLayoutEffect(function () {\n    set(new Promise(function () {\n      return null;\n    }));\n    return function () {\n      return set(false);\n    };\n  }, []);\n  return null;\n}\nvar ErrorBoundary = /** @class */function (_super) {\n  __extends(ErrorBoundary, _super);\n  function ErrorBoundary() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      error: false\n    };\n    return _this;\n  }\n  ErrorBoundary.prototype.componentDidCatch = function (error) {\n    this.props.set(error);\n  };\n  ErrorBoundary.prototype.render = function () {\n    return this.state.error ? null : this.props.children;\n  };\n  ErrorBoundary.getDerivedStateFromError = function () {\n    return {\n      error: true\n    };\n  };\n  return ErrorBoundary;\n}(React.Component);\nfunction CanvasComponent(_a, forwardedRef) {\n  var children = _a.children,\n    fallback = _a.fallback,\n    tabIndex = _a.tabIndex,\n    id = _a.id,\n    style = _a.style,\n    className = _a.className,\n    events$1 = _a.events,\n    props = __rest(_a, [\"children\", \"fallback\", \"tabIndex\", \"id\", \"style\", \"className\", \"events\"]);\n  /**\n   * Import existing contexts to pass through variants and MotionConfig from\n   * the DOM to the 3D tree. Shared variants aren't officially supported yet\n   * because the parent DOM tree fires effects before the 3D tree, whereas\n   * variants are expected to run from bottom-up in useEffect.\n   */\n  var motionContext = useContext(MotionContext);\n  var configContext = useContext(MotionConfigContext);\n  var _b = __read(useForceUpdate(), 1),\n    forceRender = _b[0];\n  var layoutCamera = useRef(null);\n  var dimensions = useRef({\n    size: {\n      width: 0,\n      height: 0\n    }\n  });\n  var _c = dimensions.current,\n    size = _c.size,\n    dpr = _c.dpr;\n  var containerRef = useRef(null);\n  var handleResize = function () {\n    var container = containerRef.current;\n    dimensions.current = {\n      size: {\n        width: container.offsetWidth,\n        height: container.offsetHeight\n      }\n    };\n    forceRender();\n  };\n  // Set canvas size on mount\n  useLayoutEffect(handleResize, []);\n  var canvasRef = React.useRef(null);\n  var _d = __read(React.useState(false), 2),\n    block = _d[0],\n    setBlock = _d[1];\n  var _e = __read(React.useState(false), 2),\n    error = _e[0],\n    setError = _e[1];\n  // Suspend this component if block is a promise (2nd run)\n  if (block) throw block;\n  // Throw exception outwards if anything within canvas throws\n  if (error) throw error;\n  // Only render the R3F tree once we have recorded dimensions for the canvas.\n  if (size.width > 0 && size.height > 0) {\n    render(React.createElement(ErrorBoundary, {\n      set: setError\n    }, React.createElement(React.Suspense, {\n      fallback: React.createElement(Block, {\n        set: setBlock\n      })\n    }, React.createElement(MotionCanvasContext.Provider, {\n      value: {\n        dimensions: dimensions,\n        layoutCamera: layoutCamera,\n        requestedDpr: calculateDpr(props.dpr)\n      }\n    }, React.createElement(MotionConfigContext.Provider, {\n      value: configContext\n    }, React.createElement(MotionContext.Provider, {\n      value: motionContext\n    }, children))))), canvasRef.current, __assign(__assign({}, props), {\n      dpr: dpr || props.dpr,\n      size: size,\n      events: events$1 || events\n    }));\n  }\n  useIsomorphicLayoutEffect(function () {\n    var container = canvasRef.current;\n    return function () {\n      return unmountComponentAtNode(container);\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    id: id,\n    className: className,\n    tabIndex: tabIndex,\n    style: __assign({\n      position: \"relative\",\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\"\n    }, style)\n  }, React.createElement(\"canvas\", {\n    ref: mergeRefs([canvasRef, forwardedRef]),\n    style: {\n      display: \"block\"\n    }\n  }, fallback));\n}\nvar MotionCanvas = forwardRef(CanvasComponent);\nexport { MotionCanvas };","map":{"version":3,"names":["__extends","__rest","__read","__assign","React","forwardRef","useContext","useRef","useLayoutEffect","MotionContext","MotionConfigContext","mergeRefs","render","events","unmountComponentAtNode","useIsomorphicLayoutEffect","MotionCanvasContext","useForceUpdate","clamp","devicePixelRatio","window","calculateDpr","dpr","Array","isArray","Block","_a","set","Promise","ErrorBoundary","_super","_this","apply","arguments","state","error","prototype","componentDidCatch","props","children","getDerivedStateFromError","Component","CanvasComponent","forwardedRef","fallback","tabIndex","id","style","className","events$1","motionContext","configContext","_b","forceRender","layoutCamera","dimensions","size","width","height","_c","current","containerRef","handleResize","container","offsetWidth","offsetHeight","canvasRef","_d","useState","block","setBlock","_e","setError","createElement","Suspense","Provider","value","requestedDpr","ref","position","overflow","display","MotionCanvas"],"sources":["C:/Users/emran/Documents/GitHub/Framer-Motion-3D-Shapes-button-R3F/node_modules/framer-motion-3d/dist/es/components/MotionCanvas.mjs"],"sourcesContent":["import { __extends, __rest, __read, __assign } from 'tslib';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useLayoutEffect } from 'react';\nimport { MotionContext, MotionConfigContext } from 'framer-motion';\nimport mergeRefs from 'react-merge-refs';\nimport { render, events, unmountComponentAtNode } from '@react-three/fiber';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\nimport { MotionCanvasContext } from './MotionCanvasContext.mjs';\nimport { useForceUpdate } from '../utils/use-force-update.mjs';\nimport { clamp } from 'popmotion';\n\nvar devicePixelRatio = typeof window !== \"undefined\" ? window.devicePixelRatio : 1;\nvar calculateDpr = function (dpr) {\n    return Array.isArray(dpr)\n        ? clamp(dpr[0], dpr[1], devicePixelRatio)\n        : dpr || devicePixelRatio;\n};\n/**\n * This file contains a version of R3F's Canvas component that uses our projection\n * system for layout measurements instead of use-react-measure so we can keep the\n * projection and cameras in sync.\n *\n * https://github.com/pmndrs/react-three-fiber/blob/master/packages/fiber/src/web/Canvas.tsx\n */\nfunction Block(_a) {\n    var set = _a.set;\n    useIsomorphicLayoutEffect(function () {\n        set(new Promise(function () { return null; }));\n        return function () { return set(false); };\n    }, []);\n    return null;\n}\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { error: false };\n        return _this;\n    }\n    ErrorBoundary.prototype.componentDidCatch = function (error) {\n        this.props.set(error);\n    };\n    ErrorBoundary.prototype.render = function () {\n        return this.state.error ? null : this.props.children;\n    };\n    ErrorBoundary.getDerivedStateFromError = function () { return ({ error: true }); };\n    return ErrorBoundary;\n}(React.Component));\nfunction CanvasComponent(_a, forwardedRef) {\n    var children = _a.children, fallback = _a.fallback, tabIndex = _a.tabIndex, id = _a.id, style = _a.style, className = _a.className, events$1 = _a.events, props = __rest(_a, [\"children\", \"fallback\", \"tabIndex\", \"id\", \"style\", \"className\", \"events\"]);\n    /**\n     * Import existing contexts to pass through variants and MotionConfig from\n     * the DOM to the 3D tree. Shared variants aren't officially supported yet\n     * because the parent DOM tree fires effects before the 3D tree, whereas\n     * variants are expected to run from bottom-up in useEffect.\n     */\n    var motionContext = useContext(MotionContext);\n    var configContext = useContext(MotionConfigContext);\n    var _b = __read(useForceUpdate(), 1), forceRender = _b[0];\n    var layoutCamera = useRef(null);\n    var dimensions = useRef({\n        size: { width: 0, height: 0 },\n    });\n    var _c = dimensions.current, size = _c.size, dpr = _c.dpr;\n    var containerRef = useRef(null);\n    var handleResize = function () {\n        var container = containerRef.current;\n        dimensions.current = {\n            size: {\n                width: container.offsetWidth,\n                height: container.offsetHeight,\n            },\n        };\n        forceRender();\n    };\n    // Set canvas size on mount\n    useLayoutEffect(handleResize, []);\n    var canvasRef = React.useRef(null);\n    var _d = __read(React.useState(false), 2), block = _d[0], setBlock = _d[1];\n    var _e = __read(React.useState(false), 2), error = _e[0], setError = _e[1];\n    // Suspend this component if block is a promise (2nd run)\n    if (block)\n        throw block;\n    // Throw exception outwards if anything within canvas throws\n    if (error)\n        throw error;\n    // Only render the R3F tree once we have recorded dimensions for the canvas.\n    if (size.width > 0 && size.height > 0) {\n        render(React.createElement(ErrorBoundary, { set: setError },\n            React.createElement(React.Suspense, { fallback: React.createElement(Block, { set: setBlock }) },\n                React.createElement(MotionCanvasContext.Provider, { value: {\n                        dimensions: dimensions,\n                        layoutCamera: layoutCamera,\n                        requestedDpr: calculateDpr(props.dpr),\n                    } },\n                    React.createElement(MotionConfigContext.Provider, { value: configContext },\n                        React.createElement(MotionContext.Provider, { value: motionContext }, children))))), canvasRef.current, __assign(__assign({}, props), { dpr: dpr || props.dpr, size: size, events: events$1 || events }));\n    }\n    useIsomorphicLayoutEffect(function () {\n        var container = canvasRef.current;\n        return function () { return unmountComponentAtNode(container); };\n    }, []);\n    return (React.createElement(\"div\", { ref: containerRef, id: id, className: className, tabIndex: tabIndex, style: __assign({ position: \"relative\", width: \"100%\", height: \"100%\", overflow: \"hidden\" }, style) },\n        React.createElement(\"canvas\", { ref: mergeRefs([canvasRef, forwardedRef]), style: { display: \"block\" } }, fallback)));\n}\nvar MotionCanvas = forwardRef(CanvasComponent);\n\nexport { MotionCanvas };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}