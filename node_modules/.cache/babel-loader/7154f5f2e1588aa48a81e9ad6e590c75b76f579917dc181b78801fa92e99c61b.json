{"ast":null,"code":"import { pipe } from 'popmotion';\nimport { useRef } from 'react';\nimport { wrapHandler, addPointerEvent, AnimationType, isDragActive } from 'framer-motion';\nfunction useTap(isStatic, _a, visualElement) {\n  var whileTap = _a.whileTap,\n    onTapStart = _a.onTapStart,\n    onTap = _a.onTap,\n    onTapCancel = _a.onTapCancel,\n    onPointerDown = _a.onPointerDown;\n  var isTapEnabled = onTap || onTapStart || onTapCancel || whileTap;\n  var isPressing = useRef(false);\n  var cancelPointerEndListeners = useRef(null);\n  if (isStatic || !visualElement || !isTapEnabled) return {};\n  function removePointerEndListener() {\n    var _a;\n    (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n    cancelPointerEndListeners.current = null;\n  }\n  function checkPointerEnd() {\n    var _a;\n    removePointerEndListener();\n    isPressing.current = false;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n    return !isDragActive();\n  }\n  function onPointerUp(event, info) {\n    if (!checkPointerEnd()) return;\n    /**\n     * We only count this as a tap gesture if the event.target is the same\n     * as, or a child of, this component's element\n     */\n    onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n  }\n  function onPointerCancel(event, info) {\n    if (!checkPointerEnd()) return;\n    onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n  }\n  return {\n    onPointerDown: wrapHandler(function (event, info) {\n      var _a;\n      removePointerEndListener();\n      if (isPressing.current) return;\n      isPressing.current = true;\n      cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n      (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n      onPointerDown === null || onPointerDown === void 0 ? void 0 : onPointerDown(event);\n      onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n    }, true)\n  };\n}\nexport { useTap };","map":{"version":3,"names":["pipe","useRef","wrapHandler","addPointerEvent","AnimationType","isDragActive","useTap","isStatic","_a","visualElement","whileTap","onTapStart","onTap","onTapCancel","onPointerDown","isTapEnabled","isPressing","cancelPointerEndListeners","removePointerEndListener","current","call","checkPointerEnd","animationState","setActive","Tap","onPointerUp","event","info","onPointerCancel","window"],"sources":["C:/Users/emran/Documents/GitHub/Framer-Motion-3D-Shapes-button-R3F/node_modules/framer-motion-3d/dist/es/render/gestures/use-tap.mjs"],"sourcesContent":["import { pipe } from 'popmotion';\nimport { useRef } from 'react';\nimport { wrapHandler, addPointerEvent, AnimationType, isDragActive } from 'framer-motion';\n\nfunction useTap(isStatic, _a, visualElement) {\n    var whileTap = _a.whileTap, onTapStart = _a.onTapStart, onTap = _a.onTap, onTapCancel = _a.onTapCancel, onPointerDown = _a.onPointerDown;\n    var isTapEnabled = onTap || onTapStart || onTapCancel || whileTap;\n    var isPressing = useRef(false);\n    var cancelPointerEndListeners = useRef(null);\n    if (isStatic || !visualElement || !isTapEnabled)\n        return {};\n    function removePointerEndListener() {\n        var _a;\n        (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n        cancelPointerEndListeners.current = null;\n    }\n    function checkPointerEnd() {\n        var _a;\n        removePointerEndListener();\n        isPressing.current = false;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n        return !isDragActive();\n    }\n    function onPointerUp(event, info) {\n        if (!checkPointerEnd())\n            return;\n        /**\n         * We only count this as a tap gesture if the event.target is the same\n         * as, or a child of, this component's element\n         */\n        onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n    }\n    function onPointerCancel(event, info) {\n        if (!checkPointerEnd())\n            return;\n        onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n    }\n    return {\n        onPointerDown: wrapHandler(function (event, info) {\n            var _a;\n            removePointerEndListener();\n            if (isPressing.current)\n                return;\n            isPressing.current = true;\n            cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n            (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n            onPointerDown === null || onPointerDown === void 0 ? void 0 : onPointerDown(event);\n            onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n        }, true),\n    };\n}\n\nexport { useTap };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}